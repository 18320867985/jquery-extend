<!DOCTYPE html>
<html lang="zh-CN">

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
		<meta name="Keywords" content="" />
		<meta name="Description" content="" />
		<title>include-异步加载html css js</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/all.css" />
		<link rel="stylesheet" type="text/css" href="css/icon/iconfont.css" />
		<style>
			.container {
            margin-top: 50px;
            margin-bottom: 50px;
        }

            .container > li + li {
                margin-top: 20px;
            }

        pre {
            margin: 10px 0;
        }

        p {
            margin: 10px;
        }

        .v-modal-2 .v-modal-cnt,
        .v-modal-3 .v-modal-cnt {
            width: 600px;
            padding: 30px;
        }
        h2 {
             margin-bottom:30px;
        }

        .v-tab {
             margin-top:30px;
        }
        .v-tab-cnt {
             height:200px;
             border: 1px solid #ddd;
        }

        .v-tab-cnt-item {
             height:100%;
             padding:20px;
             color:#fff;
             font-size:16px;
        }
		
		 .jq-define { margin-top: 20px;
		                 height:200px;
		                 border: 2px solid red;
		            }
    </style>
	</head>

	<body>
		<div class="container">
			<h1>html标签异步加载html css js  兼容ie8+</h1>
			<div>
				<a class="btn-link" href="./js/include.js">查看 v-include.js</a>
			</div>
			<ul>
                <li>
                    <pre>
  &lt;include src="./include/in.html?sid=1234" data-nav data-index="0" obj='{"id":1234,"age":12}'>&lt;/include>
				   </pre>

                    <div>
                        <pre>
							&lt;ul>
								&lt;li class="">
									&lt;a href="../index">首页</a>
								&lt;/li>
								&lt;li class="">
									&lt;a href="../index">行业资讯</a>
								&lt;/li>
								
								&lt;li class="">
									&lt;a href="../index">行业资料</a>
								&lt;/li>
								
								&lt;li class="">
									&lt;a href="../index">价格走势</a>
								&lt;/li>
								
								&lt;li class="">
									&lt;a href="../index">物性表</a>
								&lt;/li>
								
								&lt;li class="">
									&lt;a href="../index">关于我们</a>
								&lt;/li>

							&lt;/ul>
                           
						
						</pre>
                        <pre> &lt;include src="./include/in.html?sid=1234" data-nav data-index="0" obj='{"id":1234,"age":12}'>&lt;/include> 
                        属性：data-nav data-index="0"=》页面active激活的样式索引</pre>

                        <h3>in.html</h3>
                        <include src="./include/in.html?sid=1234" data-nav data-index="0" obj='{"id":1234,"age":12}'></include>
                    </div>
                    <hr>
                    <div>
                        <pre>
							&lt;nav class="nav">
							   &lt;a  class ="nav-item  " href="#">全部</a>
							    &lt;a  class ="nav-item "href="#">行业新闻</a>
							    &lt;a  class ="nav-item "href="#">上游动态</a>
							    &lt;a  class ="nav-item " href="#">品名日评</a>
							    &lt;a  class ="nav-item " href="#">塑料期货</a>
							&lt;/nav>

						
						</pre>
                        <pre> &lt;include src="./include/in.html?sid=1234" data-nav data-index="0" obj='{"id":1234,"age":12}'>&lt;/include> 
                        属性：data-nav data-index="2"=》页面active激活的样式索引</pre>
                        <h3>in2.html</h3>
                        <include src="./include/in2.html" data-nav data-index="2"></include>
                    </div>


                    <h3>in3.html</h3>
                    <include src="./include/in3.html" data-nav data-index="0"></include>

                    <hr style="border-bottom:2px solid red;" />
                    <h1>异步加载js 兼容ie8+ </h1>

                    <h3>
                        define 定义函数
                    </h3>
                    <pre>
						include.define(function () {
						
						    return  function (a1, b1) {
						       
						        return a1 + b1;
						    };
						
						});
					</pre>
                    <h3>
                        require 调用函数
                    </h3>
                    <pre>
						require(["http://localhost:8888/include/amd1.js", "./include/amd2.js"],function(amd1,amd2){
							console.log(amd1);
							console.log(amd2);
						});
					</pre>
                    <pre>
						$("#btn").on("click", function(e) {
						
							require(["http://localhost:8888/include/amd1.js", "./include/amd2.js", "./include/amd3.js",
								"./include/amd6.js", "http://localhost:8888/include/jquery-1.11.0.js"
							], function(a, b, c, d, jq) {
						
								var res = a(12, 12) + b(2, 2) + c(2, 2, 2)
								console.log(res);
								console.log(include.caches)
								console.log(jq(".jq-define").css("background", "orange"))
								console.log("done");
						
							});
						
						
						});
					</pre>
                    <button class="btn btn-primary" type="button" id="btn">
                        异步并行加载js 全部加载完成再执行函数
                    </button>
                    <div class="jq-define">

                    </div>
                    <hr />
                    <h2>js动态加载html的content,js,css</h2>
                    <pre>
 include.getHtml(obj,src,callback);
obj=原生dom对象
src=html文件地址
callback=回调函数
</pre>
                    <button class="btn btn-primary" type="button" id="btn-gethtml">js动态加载html</button>
                    <div id="gethtml" style="  padding: 20px; border: solid red; margin:20px 0;">

                    </div>
                    <button class="btn btn-primary" type="button" id="btn-gethtml2">js动态加载html</button>
                    <div id="gethtml2" style="  padding: 20px; border: solid red; margin:20px 0;">

                    </div>


                </li>

			</ul>

		</div>


		<script src="js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<script src="./js/v-message.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/all.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/include.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/javascript">
		 
				require(["./include/amd1.js"], function (a) {
                    console.log(a(12, 13));
				});
          
				$(function() {
           
					$("#btn").on("click", function(e) {
                     
						require(["./include/amd1.js", "./include/amd2.js", "./include/amd3.js",
							"./include/amd6.js", "include/jquery-1.11.0.js"
						], function(a, b, c, d, jq) {

							var res = a(12, 12) + b(2, 2) + c(2, 2, 2)
							console.log(res);
							console.log(include.caches)
							console.log(jq(".jq-define").css("background", "orange"))
							console.log("done");

						});


					});

                });

             // js动态html
            $("#btn-gethtml").on("click", function () {

                include.getHtml($("#gethtml").get(0), "./include/gethtml.html", function () {

                    console.log("getHtml success callback function")

                });
              // console.log(include.htmlUrls);
            });
            $("#btn-gethtml2").on("click", function () {

                include.getHtml($("#gethtml2").get(0), "./include/gethtml2.html", function () {

                    console.log("getHtml success callback function")

                });
              // console.log(include.htmlUrls);
            });


		
		</script>
	</body>

</html>
